let express,getCurrent,getOne,getAll,update,updatePassword,destroyAllUser,destroy,getUserStat,authenticate,isOnlyAdmin,yupValidate,getAllUser_v,updateUserSchema;_26e‍.x([["default",()=>_26e‍.o]]);_26e‍.w("express",[["default",["express"],function(v){express=v}]]);_26e‍.w("../controllers/userController",[["getCurrent",["getCurrent"],function(v){getCurrent=v}],["getOne",["getOne"],function(v){getOne=v}],["getAll",["getAll"],function(v){getAll=v}],["update",["update"],function(v){update=v}],["updatePassword",["updatePassword"],function(v){updatePassword=v}],["destroyAllUser",["destroyAllUser"],function(v){destroyAllUser=v}],["destroy",["destroy"],function(v){destroy=v}],["getUserStat",["getUserStat"],function(v){getUserStat=v}]]);_26e‍.w("../middleware/authenticate",[["authenticate",["authenticate"],function(v){authenticate=v}]]);_26e‍.w("../middleware/authorization",[["isOnlyAdmin",["isOnlyAdmin"],function(v){isOnlyAdmin=v}]]);_26e‍.w("../middleware/yupValidate",[["default",["yupValidate"],function(v){yupValidate=v}]]);_26e‍.w("../middleware/custom_validation",[["getAllUser_v",["getAllUser_v"],function(v){getAllUser_v=v}]]);_26e‍.w("../validators/user/updateProfile",[["default",["updateUserSchema"],function(v){updateUserSchema=v}]]);

const router = express.Router();

//Controllers


//Authentication and Authorization



//Validation Middleware

 //_v signifies _validate middleware

//Import validator



/* -----------------------------All User----------------------------------- */

//Get Current User
router.get("/", authenticate, getCurrent);

//Get One User
router.get("/one/:id", authenticate, getOne);

//Update User 
router.put("/update", [authenticate, yupValidate(updateUserSchema)], update);

//Update Password
router.put("/update/password", authenticate, updatePassword);

//Delete User
router.delete("/delete", authenticate, destroyAllUser);


/* -----------------------------Only Admin----------------------------------- */

//Get All User 
router.get("/all", [authenticate, isOnlyAdmin, getAllUser_v], getAll);

//Get All User 
router.get("/stats", [authenticate, isOnlyAdmin], getUserStat);

//Delete One User 
router.delete("/delete/:id", [authenticate, isOnlyAdmin], destroy)



_26e‍.d(router);
